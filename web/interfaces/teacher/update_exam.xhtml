<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core" xml:lang="en" lang="en">
	<head>
		<title>My Facelets Page</title>
		<meta http-equiv="keywords" content="enter,your,keywords,here" />
		<meta http-equiv="description"
			content="A short description of this page." />
		<meta http-equiv="content-type" content="text/html; charset=UTF-8" />

		<!--<link rel="stylesheet" type="text/css" href="styles.css">-->
		<script charset="GBK" type="text/javascript" src="../include/DateTimeSelect.js"></script>
		<script charset="GBK" type="text/javascript" src="../include/confirmandcancel.js"></script>
	</head>
	<body>
		<div>
			<h:form>
				<table bgcolor="#D3D3D3">
					<tr>
						<td>
							<h:outputLabel>学校</h:outputLabel>
						</td>
						<td>
							<h:selectOneMenu value="#{ArrExamAction.schoolId}" onchange="submit()" 
							style="width: 120px " valueChangeListener="#{ArrExamAction.changeStateSchool}">
								<c:forEach var="school" items="#{ArrExamAction.schools}">
									<f:selectItem itemValue="#{school.id}" itemLabel="#{school.name}"/>
								</c:forEach>					
							</h:selectOneMenu>
						</td>
						<td>
							<h:outputLabel>院系</h:outputLabel>
						</td>
						<td>
							<h:selectOneMenu  value="#{ArrExamAction.instituteId}" onchange="submit()" 
							style="width: 120px " valueChangeListener="#{ArrExamAction.changeStateIns}">
								<f:selectItem itemValue="0" itemLabel="请选择"/>
								<c:forEach var="institute" items="#{ArrExamAction.institutes}">
								<f:selectItem itemValue="#{institute.id}" itemLabel="#{institute.name}"/>
								</c:forEach>		
							</h:selectOneMenu>
						</td>
						<td>
							<h:outputLabel>专业</h:outputLabel>
						</td>
						<td>
						<h:selectOneMenu id="majorId" value="#{ArrExamAction.majorId}" onchange="submit()" 
						style="width: 120px " valueChangeListener="#{ArrExamAction.changeStateMajor}">
						    <f:selectItem itemValue="0" itemLabel="请选择"/>
							<c:forEach var="major" items="#{ArrExamAction.majors}" >
								<f:selectItem itemValue="#{major.id}" itemLabel="#{major.name}"/>
							</c:forEach>
						</h:selectOneMenu>
						</td>
						<td>
							<h:outputLabel>班级</h:outputLabel>
						</td>
						<td>
							<h:selectOneMenu id="classId" value="#{ArrExamAction.classId}" style="width: 120px "
							 valueChangeListener="#{ArrExamAction.changeStateClass}" onchange="submit()">
								<f:selectItem itemValue="0" itemLabel="请选择"/>
								<c:forEach var="class" items="#{ArrExamAction.classes}">
									<f:selectItem itemValue="#{class.id}" itemLabel="#{class.name}"/>
								</c:forEach>
							</h:selectOneMenu>	
						</td>
						<td>
							<h:outputLabel>科目</h:outputLabel>
						</td>
						<td>
							<h:selectOneMenu value="#{ArrExamAction.courseId}" style="width: 120px ">
								<f:selectItem itemValue="0" itemLabel="请选择"/>
								<c:forEach var="course" items="#{ArrExamAction.courses}">
									<f:selectItem itemValue="#{course.id}" itemLabel="#{course.name}"/>
								</c:forEach>
							</h:selectOneMenu>
						</td>
					</tr>
					<tr>
						<td>
							<h:outputLabel>考场</h:outputLabel>
						</td>
						<td>
							<h:selectOneMenu style="width: 120px " value="#{ArrExamAction.classroomId}">
								<f:selectItem itemValue="0" itemLabel="请选择"/>
								<c:forEach var="cr" items="#{ArrExamAction.classrooms}">
									<f:selectItem itemValue="#{cr.id}" itemLabel="#{cr.name}"/>
								</c:forEach>
							</h:selectOneMenu>
						</td>
						<td>
							<h:outputLabel>开始时间</h:outputLabel>
							</td>
						<td>
							<h:inputText onchange="submit()" id="startTime" onfocus="setDayHM(this);" style="width: 120px " value="#{ArrExamAction.testTime}"></h:inputText>
						</td>
						<td>
							<h:outputLabel>监考教师</h:outputLabel>
							</td>
						<td>
							<h:selectOneMenu onchange="submit()" style="width: 120px " value="#{ArrExamAction.teacherId}">
								<f:selectItem itemValue="0" itemLabel="请选择"/>
								<c:forEach var="teacher" items="#{ArrExamAction.teachers}">
									<f:selectItem itemValue="#{teacher.id}" itemLabel="#{teacher.name}"/>
								</c:forEach>
							</h:selectOneMenu>
						</td>
						<td>
							<h:outputLabel>试卷难度等级</h:outputLabel>
							</td>
						<td>
							<h:selectOneMenu onchange="submit()" style="width: 120px " value="#{ArrExamAction.testDifficult}">
								<f:selectItem itemValue="0.0" itemLabel="请选择"/>
								<f:selectItem itemValue="0.1" itemLabel="0.1"/>
								<f:selectItem itemValue="0.2" itemLabel="0.2"/>
								<f:selectItem itemValue="0.3" itemLabel="0.3"/>
								<f:selectItem itemValue="0.4" itemLabel="0.4"/>
								<f:selectItem itemValue="0.5" itemLabel="0.5"/>
								<f:selectItem itemValue="0.6" itemLabel="0.6"/>
								<f:selectItem itemValue="0.7" itemLabel="0.7"/>
								<f:selectItem itemValue="0.8" itemLabel="0.8"/>
								<f:selectItem itemValue="0.9" itemLabel="0.9"/>
								<f:selectItem itemValue="1.0" itemLabel="1.0"/>
							</h:selectOneMenu>
						</td>
						<td>
							<h:outputLabel>考试时长</h:outputLabel>
						</td>
						<td>
							<h:selectOneMenu onchange="submit()" style="width: 120px " value="#{ArrExamAction.averageTime}">
								<f:selectItem itemValue="0" itemLabel="请选择"/>
								<f:selectItem itemValue="30" itemLabel="30"/>
								<f:selectItem itemValue="60" itemLabel="60"/>
								<f:selectItem itemValue="90" itemLabel="90"/>
								<f:selectItem itemValue="120" itemLabel="120"/>
							</h:selectOneMenu>
						</td>
					</tr>
					<tr>
						<td><h:commandLink style="text-decoration: none">确认</h:commandLink></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
					</tr>
				</table>
			</h:form>
		</div>
		<div>
			<h:form>
				<table>
					<tr>
						<td>科目</td>
						<td>
							<c:forEach var="course" items="#{ArrExamAction.courses2}" >
								<c:if test="${course.id==ArrExamAction.courseId}">
									#{course.name}
							    </c:if>
							</c:forEach>
						</td>
					</tr>
					<tr>
						<td>班级</td>
						<td>
							<c:forEach var="class" items="#{ArrExamAction.classes2}">
								<c:if test="${class.id==ArrExamAction.classId}">
									#{class.name}
							    </c:if>
							</c:forEach>
						</td>
					</tr>
					<tr>
						<td>授课教师</td>
						<td>
								<c:forEach var="teacher" items="#{ArrExamAction.teachers}" >
									<c:if test="${teacher.id==ArrExamAction.teacherId}">
										#{teacher.name}
							    	</c:if>
								</c:forEach>
						</td>
					</tr>
					<tr>
						<td>考试时间</td>
						<td>#{ArrExamAction.testTime}</td>
					</tr>
					<tr>
						<td>考场</td>
						<td>
							<c:forEach var="classroom" items="#{ArrExamAction.classrooms}" >
									<c:if test="${classroom.id==ArrExamAction.classroomId}">
										#{classroom.name}
							    	</c:if>
								</c:forEach>
						</td>
					</tr>
					<tr>
						<td>考试时长</td>
						<td>#{ArrExamAction.averageTime}</td>
					</tr>
					<tr>
						<td>难度系数</td>
						<td>#{ArrExamAction.testDifficult}</td>
					</tr>
					<tr>
						<td><h:commandButton action="#{ArrExamAction.conformUpdateExam}" onclick="" value="修改"></h:commandButton></td>
						<td><h:commandButton action="arrange_exam.xhtml" value="取消"></h:commandButton></td>
					</tr>
				</table>
			</h:form>
		</div>
	</body>
</html>
