<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core" xml:lang="en" lang="en">
	<head>
		<title>My Facelets Page</title>
		<meta http-equiv="keywords" content="enter,your,keywords,here" />
		<meta http-equiv="description"
			content="A short description of this page." />
		<meta http-equiv="content-type" content="text/html; charset=UTF-8" />

		<!--<link rel="stylesheet" type="text/css" href="styles.css">-->
		<script charset="GBK" type="text/javascript" src="../include/confirmandcancel.js"></script>
	</head>
	<body>
		<h:form>
				<table width="80%" >
					<tr>
						<td width="95%"></td>
						<td width="5%"></td>
					</tr>
				</table>
				
				<c:if test="${EduAction.roleId==3}">
					<table border="2" style="border-color: #080808">
					<tr bgcolor="#B22222">
						<td width="80">行号
						</td><td width="100">Id</td>
						<td width="100">姓名</td><td width="200">学院</td><td width="50">密码</td>
						<td width="100">操作</td>
					</tr>
					<c:forEach var="user" items="#{EduAction.teachers}">
					<tr bgcolor="#FAFAD2">
						<td>#{user.number}</td>
						<td>#{user.id}</td>
						<td>#{user.name}</td>
						<td>
							<c:forEach var="institutes" items="#{EduAction.institutes}">
								<c:if test="${user.departmentid==institutes.id}">
									#{institutes.name}
								</c:if>
							</c:forEach>
						</td>
						<td>#{user.password}</td>
						<td>
							<h:commandButton value="修改" action="#{EduAction.updateTeacher}" style="text-decoration: none;">
								<f:param name="updateTeacherId" value="#{user.id}"></f:param>
							</h:commandButton>
							<h:commandButton value="删除" onclick="" action="#{EduAction.deleteTeacher}" style="text-decoration: none;">
								<f:param name="deleteTeacherId" value="#{user.id}"></f:param>
							</h:commandButton>
						</td>
					</tr>
					</c:forEach>
				</table>	
				</c:if>
				<c:if test="${EduAction.roleId==4}">
					<table border="2" style="border-color: #080808">
					<tr bgcolor="#B22222">
						<td width="80">行号
						</td><td width="100">Id</td><td width="100">学号</td>
						<td width="100">姓名</td><td width="200">班级</td><td width="50">密码</td>
						<td width="200">操作</td>
					</tr>
					<c:forEach var="user" items="#{EduAction.students}">
					<tr bgcolor="#FAFAD2">
						<td>#{user.number}</td>
						<td>#{user.id}</td>
						<td>#{user.stuno}</td>
						<td>#{user.name}</td>
						<td>
							<c:forEach var="class" items="#{EduAction.classes}">
								<c:if test="${user.classid==class.id}">
									#{class.name}
								</c:if>
							</c:forEach>
						</td>
						<td>#{user.password}</td>
						<td>
							<h:commandButton value="修改" action="#{EduAction.getUpdateStudent}" style="text-decoration: none;">
								<f:param name="updateStudentId" value="#{user.id}"></f:param>
							</h:commandButton>
							&nbsp;&nbsp;&nbsp;&nbsp;
							<h:commandButton value="删除" onclick="" action="#{EduAction.deleteStudent}" style="text-decoration: none;">
								<f:param name="deleteStudentId" value="#{user.id}"></f:param>
							</h:commandButton>
						</td>
					</tr>
					</c:forEach>
				</table>
				</c:if>					
			</h:form>
	</body>
</html>
